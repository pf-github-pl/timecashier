{% extends "base.html" %}

{% load static %}

{% block title %}Klienci{% endblock %}

{% block content %}

<h2>Klienci</h2>
    <div class="row" style="margin-bottom: 10px;">
        <a href="{% url 'entries:client_add' %}">
            <button class="btn btn-primary">Dodaj nowego klienta</button>
        </a>
    </div>
<table id="table_clients" class="table table-striped table-dark">
    <thead><th></th><th>Nazwa</th><th>Szerokość geograficzna</th><th>Długość geograficzna</th><th>Data dodania</th><th>Edycja</th></thead>
    <tbody>

    {% for client in clients_list %}
    <tr>
        <td>{% if client.inactive %} <i class="bi-cross-circle red-icon"></i> {% else %} <i class="bi-check-circle green-icon"></i>{% endif %}</td>
        <td><a href="{% url 'entries:client_details' client.slug %}">{{ client.name }}</a></td>
        <td>{{ client.latitude }}</td>
        <td>{{ client.longitude }}</td>
        <td>{{ client.created }}</td>
        <td>
            <a href="{% url 'entries:client_edit' client.id %}">
                <i class="bi-pencil-square blue-icon"></i>
            </a>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
<script>
let table = new DataTable('#table_clients', {
    "pageLength":10,
    dom: 'Bfrtip',
    buttons: [
        'pageLength'
    ]
});
</script>
{% endblock %}