{% extends "main/base.html" %}

{% load crispy_forms_tags %}

{% block title %}Home{% endblock %}

{% block content %}

<h2>Dashboard</h2>
<p>Jesteś w pobliżu {{ nearest_client }}</p>
<div class="row" style="margin-top: 30px; padding: 10px;">
</div>

<!--<div class="row border" style="margin-top: 30px; padding: 10px;">-->
{% crispy form  %}
<!--</div>-->
<div class="row" style="margin-top: 30px; padding: 10px;">
    <h4>Aktywne zadania</h4>
    <table id="table_active_entries" class="table table-striped table-dark">
        <thead><th>Klient</th><th>Data</th><th>Czas rozpoczęcia</th><th>Długość</th></thead>
        <tbody>
        {% for entry in active_entries %}
        <tr><td>{{ entry.client.name }}</td><td>{{ entry.start_date }}</td><td>{{ entry.start_time }}</td><td>{{ entry.duration }}</td></tr>
        {% endfor %}
        </tbody>
    </table>
    <script>
let table = new DataTable('#table_active_entries', {
    "pageLength":5,
    "order": [[ 1, "desc" ]],
    "searching": false,
    "paging": true,
    "info": false,
    "lengthChange":false

});
</script>
</div>

{% endblock %}