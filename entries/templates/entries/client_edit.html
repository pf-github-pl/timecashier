{% extends "base.html" %}

{% load crispy_forms_tags %}

{% load static %}

{% block title %}Edycja klienta -{% endblock %}

{% block page_content %}

{% csrf_token %}

{% load l10n %}

{% if client_details %}
<h1>Edycja klienta</h1>
<div style="text-align: center; margin-top:30px; margin-bottom:30px">
    <span>Utworzono: {{ client_details.created}}<br>Zmodyfikowano: {{ client_details.modified}}</span>
</div>
<p></p>
{% else %}
<h1>Dodaj klienta</h1>
{% endif %}

{% crispy form  %}

{% if client_details %}
<div class="container col col-md-6 justify-content-center panel-background">
    <button type="button" class="btn btn-light rounded-pill w-100" onclick="getLocation()">Ustaw bieżącą lokalizację</button>
</div>
<!--{% if client_rates %}-->
<!--<table>-->
<!--    <tr>-->
<!--        <th>Rodzaj</th>-->
<!--        <th>Stawka</th>-->
<!--    </tr>-->
<!--    {% for rate in client_rates %}-->
<!--    <tr>-->
<!--        <td>{{ rate.name }}</td>-->
<!--        <td>{{ rate.rate }}</td>-->
<!--    </tr>-->
<!--    {% endfor %}-->
<!--</table>-->
<!--{% endif %}-->
{% endif %}
<br>
<div id="map" style="width:100%;height:500px" class="container col col-md-6 justify-content-center panel-background"></div>
{% endblock %}

{% block additional_scripts %}
<script src="{% static 'entries/js/main.js' %}"></script>
<script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAxd_FDKWmoBx_ywEXflRnkmjHArAwnZ6E">
        defer
</script>

{% if client_lat and client_long %}
<script>
    initMap({{ client_lat|unlocalize }}, {{ client_long|unlocalize }});
</script>
{% else %}
<script>
    getLocation()
</script>
{% endif %}

{% endblock %}
